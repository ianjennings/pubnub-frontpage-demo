<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Pubnub Demo</title>

  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
  <div class="container">
		<div class="row">
		  <div class="col-md-6">
		  	<div class="well" id="input">
		  	</div>
		  </div>
		  <div class="col-md-6">
		  	<div class="well" id="output">
		  	</div>
		  </div>
		</div>
  </div>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
  <script src="http://cdn.pubnub.com/pubnub.min.js"></script>
  <script>
  (function() {

  	var self = this;

  	self.pubnub = PUBNUB.init({
  	    publish_key   : 'demo',
  	    subscribe_key : 'demo'
  	});

  	self.pubnub.subscribe({
  	  channel : "hello_world",
  	  message : function(m){
  	  	$('#output').append(m);
  	  },
  	  connect : function(){
  	  	self.publish();
			}
  	});

  	self.publish = function() {
  	  self.pubnub.publish({
  	    channel : "hello_world",
  	    message : "Hi."
  	  });
  	}

	})();
  </script>
</body>
</html>
